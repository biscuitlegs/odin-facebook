<section>
    <div class="box mx-6 my-6">
        <p class="title has-text-centered">Received Friend Requests</p>
        <% @friend_requests.each do |request| %>
            <% sending_user = User.find(request.sending_user_id) %>

            <div class="level">
                <div class="level-left">
                    <div class="level-item has-text-centered">
                        <p class="image is-64x64">
                            <% if sending_user.profile_picture.attached? %>
                                <%= image_tag(sending_user.profile_picture.variant(resize_to_fill: [64, 64]), class: "is-rounded") %>
                            <% else %>
                                <img src="https://bulma.io/images/placeholders/64x64.png" class="is-rounded">
                            <% end %>
                        </p>
                    </div>
                    <div class="level-item has-text-centered">
                        <p class="subtitle">
                            <%= sending_user.full_name %>
                        </p>
                    </div>
                </div>
                <div class="level-right">
                    <div class="level-item has-text-centered">
                        <a href="<%= friendships_path(friendship: { friend_one_id: request.sending_user_id, friend_two_id: request.receiving_user_id }, friend_request_id: request.id) %>" class="button is-primary" data-method="post">
                            <span class="icon is-large"><i class="far fa-check-circle fa-2x"></i></span>
                            <span>Accept</span>
                        </a>
                    </div>
                    <div class="level-item has-text-centered">
                        <a href="<%= friend_request_path(request) %>" class="button is-danger" data-method="delete">
                            <span class="icon is-large"><i class="far fa-times-circle fa-2x"></i></span>
                            <span>Decline</span>
                        </a>
                    </div>
                </div>
            </div>
        <% end %>
    </div>
</section>